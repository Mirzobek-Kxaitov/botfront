<!DOCTYPE html>
<html lang="uz">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RUSTAM BARBER - Bron qilish</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-white: #FFFFFF;
            --card-white: #FFFFFF;
            --accent-gray: #E5E7EB;
            --text-dark: #374151;
            --text-gray: #6B7280;
            --shadow-color: rgba(0, 0, 0, 0.06);
        }

        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: #FFFFFF;
            min-height: 100vh;
        }
        
        .main-card {
            background: #FFFFFF;
            box-shadow: 0 2px 8px var(--shadow-color);
            border-radius: 24px;
            max-width: 420px;
            margin: 0 auto;
        }

        .card-header {
            padding: 2rem;
            text-align: center;
            position: relative;
        }

        .verification-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 24px;
            height: 24px;
            background: var(--accent-gray);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .barber-logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 1rem;
        }

        .brand-title {
            font-size: 1.75rem;
            font-weight: 800;
            letter-spacing: 0.5px;
            color: var(--text-dark);
            margin-bottom: 0.25rem;
        }

        .brand-subtitle {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-gray);
        }

        .quick-select-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .btn-today {
            background: var(--accent-gray);
            color: var(--text-dark);
            padding: 1rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.9375rem;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
        }

        .btn-today.selected {
            background: var(--accent-gray);
            color: var(--text-dark);
        }

        .btn-tomorrow {
            background: #FFFFFF;
            color: var(--text-dark);
            padding: 1rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.9375rem;
            transition: all 0.2s ease;
            border: 2px solid var(--accent-gray);
            cursor: pointer;
        }

        .btn-tomorrow:hover {
            background: var(--accent-gray);
        }

        .btn-tomorrow.selected {
            background: var(--accent-gray);
            border-color: var(--accent-gray);
        }

        .time-slot {
            background: #FFFFFF;
            border: 2px solid var(--accent-gray);
            color: var(--text-dark);
            padding: 0.875rem;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.9375rem;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .time-slot:hover {
            background: var(--accent-gray);
            border-color: var(--accent-gray);
        }

        .time-slot.selected {
            background: var(--accent-gray);
            border-color: var(--accent-gray);
            color: var(--text-dark);
        }

        .calendar-day {
            background: #FFFFFF;
            border: 1px solid var(--accent-gray);
            color: var(--text-dark);
            padding: 0.75rem;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .calendar-day:hover:not(.disabled) {
            background: var(--accent-gray);
            border-color: var(--accent-gray);
        }

        .calendar-day.selected {
            background: var(--accent-gray);
            border-color: var(--accent-gray);
            color: var(--text-dark);
        }

        .calendar-day.disabled {
            background: #FAFAFA;
            color: #D1D5DB;
            cursor: not-allowed;
            border-color: #F3F4F6;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.4s ease-out forwards;
        }

        .loading-spinner {
            border: 3px solid var(--accent-gray);
            border-radius: 50%;
            border-top: 3px solid var(--text-dark);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .section-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .divider {
            display: flex;
            align-items: center;
            text-align: center;
            margin: 1.5rem 0;
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            border-bottom: 1px solid var(--accent-gray);
        }

        .divider span {
            padding: 0 1rem;
            color: var(--text-gray);
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        /* Mobile optimizations */
        @media (max-width: 480px) {
            .main-card {
                margin: 1rem;
                border-radius: 20px;
            }

            .card-header {
                padding: 1.5rem;
            }

            .barber-logo {
                width: 100px;
                height: 100px;
            }

            .brand-title {
                font-size: 1.5rem;
            }

            .calendar-day {
                padding: 0.5rem;
                font-size: 0.875rem;
            }

            .time-slot {
                padding: 0.75rem;
                font-size: 0.875rem;
            }
        }
    </style>
</head>

<body>
    <div class="min-h-screen p-4" style="background: #FFFFFF;">
        <div class="main-card fade-in-up">
            <!-- Header -->
            <div class="card-header">
                <!-- Verification Badge -->
                <div class="verification-badge">
                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                        <path d="M4.66667 7L6.22222 8.55556L9.33333 5.44444M12.4444 7C12.4444 9.87526 10.0975 12.2222 7.22222 12.2222C4.34696 12.2222 2 9.87526 2 7C2 4.12474 4.34696 1.77778 7.22222 1.77778C10.0975 1.77778 12.4444 4.12474 12.4444 7Z" stroke="#6B7280" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>

                <!-- Admin Panel Button (hidden) -->
                <button id="admin-btn" style="display: none;"></button>

                <!-- Barber Logo -->
                <div class="barber-logo">
                    <svg viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Head outline -->
                        <ellipse cx="100" cy="100" rx="60" ry="75" fill="#1a1a1a"/>
                        <!-- Face -->
                        <ellipse cx="100" cy="90" rx="50" ry="60" fill="#FFFFFF"/>
                        <!-- Hair - swept back style -->
                        <path d="M50 70 Q45 50, 60 45 Q70 42, 80 45 Q90 40, 100 38 Q110 40, 120 45 Q130 42, 140 45 Q155 50, 150 70 L140 75 Q130 65, 120 63 Q110 60, 100 60 Q90 60, 80 63 Q70 65, 60 75 Z" fill="#1a1a1a"/>
                        <!-- Eyes -->
                        <ellipse cx="85" cy="85" rx="3" ry="2" fill="#1a1a1a"/>
                        <ellipse cx="115" cy="85" rx="3" ry="2" fill="#1a1a1a"/>
                        <!-- Eyebrows -->
                        <path d="M78 78 Q85 75, 92 78" stroke="#1a1a1a" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <path d="M108 78 Q115 75, 122 78" stroke="#1a1a1a" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <!-- Nose -->
                        <path d="M100 95 L97 100 Q100 102, 103 100 Z" fill="#E5E7EB"/>
                        <!-- Mustache - stylized curled -->
                        <path d="M70 105 Q75 100, 85 102 Q95 104, 100 103 Q105 104, 115 102 Q125 100, 130 105 Q128 110, 122 108 Q115 106, 110 108 Q105 110, 100 109 Q95 110, 90 108 Q85 106, 78 108 Q72 110, 70 105 Z" fill="#1a1a1a"/>
                        <!-- Mustache curls -->
                        <path d="M70 105 Q65 103, 63 108 Q62 112, 67 113" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
                        <path d="M130 105 Q135 103, 137 108 Q138 112, 133 113" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round" fill="none"/>
                        <!-- Beard - full stylized -->
                        <path d="M75 115 Q72 130, 75 145 Q78 155, 85 160 Q92 165, 100 166 Q108 165, 115 160 Q122 155, 125 145 Q128 130, 125 115 Q120 118, 115 120 Q110 122, 105 123 Q100 124, 95 123 Q90 122, 85 120 Q80 118, 75 115 Z" fill="#1a1a1a"/>
                        <!-- Beard texture lines -->
                        <path d="M82 125 Q85 140, 88 150" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round" opacity="0.3"/>
                        <path d="M95 127 Q97 142, 98 155" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round" opacity="0.3"/>
                        <path d="M105 127 Q103 142, 102 155" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round" opacity="0.3"/>
                        <path d="M118 125 Q115 140, 112 150" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round" opacity="0.3"/>
                        <!-- Ears -->
                        <ellipse cx="50" cy="95" rx="8" ry="12" fill="#FFFFFF"/>
                        <ellipse cx="150" cy="95" rx="8" ry="12" fill="#FFFFFF"/>
                    </svg>
                </div>

                <h1 class="brand-title">RUSTAM BARBER</h1>
                <p class="brand-subtitle">Professional Grooming</p>
            </div>

            <!-- Content -->
            <div class="p-6">
                <!-- Quick Date Selection -->
                <div id="quick-date-section" class="mb-6 fade-in-up" style="animation-delay: 0.1s">
                    <div class="quick-select-buttons">
                        <button id="today-btn" class="btn-today">
                            Bugun
                        </button>
                        <button id="tomorrow-btn" class="btn-tomorrow">
                            Ertaga
                        </button>
                    </div>
                </div>

                <!-- Divider -->
                <div class="divider">
                    <span>yoki</span>
                </div>

                <!-- Step 1: Date Selection (calendar) -->
                <div id="date-section" class="mb-6 fade-in-up" style="animation-delay: 0.2s">
                    <h2 class="section-title">Boshqa kun tanlash</h2>
                    <div class="bg-white rounded-xl p-4">
                        <div class="grid grid-cols-7 gap-1 mb-3">
                            <div class="text-center text-xs font-semibold text-gray-500 p-2">Du</div>
                            <div class="text-center text-xs font-semibold text-gray-500 p-2">Se</div>
                            <div class="text-center text-xs font-semibold text-gray-500 p-2">Cho</div>
                            <div class="text-center text-xs font-semibold text-gray-500 p-2">Pa</div>
                            <div class="text-center text-xs font-semibold text-gray-500 p-2">Ju</div>
                            <div class="text-center text-xs font-semibold text-gray-500 p-2">Sha</div>
                            <div class="text-center text-xs font-semibold text-gray-500 p-2">Ya</div>
                        </div>
                        <div id="calendar-dates" class="grid grid-cols-7 gap-1"></div>
                    </div>
                </div>

                <!-- Step 2: Time Selection (ko'rsatiladi kun tanlangandan keyin) -->
                <div id="time-section" class="mb-6 fade-in-up" style="display: none; animation-delay: 0.3s">
                    <h2 class="section-title">Vaqtni tanlang</h2>
                    <p class="text-sm text-gray-500 mb-4">
                        <span id="selected-date-display">Tanlangan kun</span> uchun mavjud vaqtlar
                    </p>
                    <div id="time-slots" class="grid grid-cols-3 gap-2"></div>
                </div>

                <!-- Selected Info -->
                <div id="selected-info" class="bg-white rounded-xl p-4 mb-6 fade-in-up" style="display: none; animation-delay: 0.4s; border: 1px solid var(--accent-gray);">
                    <div class="text-center">
                        <h3 class="font-semibold text-base mb-3" style="color: var(--text-dark);">Tanlangan ma'lumotlar</h3>
                        <div class="space-y-2 text-sm">
                            <div class="flex items-center justify-center" style="color: var(--text-dark);">
                                <span class="font-medium">Sana:</span>
                                <span id="selected-date" class="ml-2 font-semibold"></span>
                            </div>
                            <div class="flex items-center justify-center" style="color: var(--text-dark);">
                                <span class="font-medium">Vaqt:</span>
                                <span id="selected-time" class="ml-2 font-semibold"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Confirm Button -->
                <button id="confirm-btn"
                    class="w-full py-4 rounded-xl font-semibold text-base fade-in-up"
                    style="display: none; animation-delay: 0.5s; background: var(--accent-gray); color: var(--text-dark);">
                    Bron qilishni tasdiqlash
                </button>

                <!-- Loading -->
                <div id="loading" class="text-center py-8" style="display: none;">
                    <div class="loading-spinner mx-auto mb-3"></div>
                    <p style="color: var(--text-dark); font-weight: 500;">Yuklanmoqda...</p>
                </div>

                <!-- Admin Panel (hidden by default) -->
                <div id="admin-panel" class="mb-6 fade-in-up" style="display: none;">
                    <div class="bg-white p-6 rounded-xl" style="border: 1px solid var(--accent-gray);">
                        <div class="text-center mb-6">
                            <h2 class="text-xl font-semibold mb-2" style="color: var(--text-dark);">Admin Panel</h2>
                            <p class="text-sm" style="color: var(--text-gray);">Kundalik bronlar ro'yxati</p>
                        </div>

                        <!-- Date selector for admin -->
                        <div class="mb-4">
                            <label for="admin-date" class="block font-medium mb-2" style="color: var(--text-dark);">Sanani tanlang:</label>
                            <input type="date" id="admin-date" class="w-full p-3 rounded-xl bg-white border-2 focus:outline-none" style="border-color: var(--accent-gray); color: var(--text-dark);">
                        </div>

                        <!-- Bookings list -->
                        <div id="bookings-list" class="space-y-3">
                            <div class="text-center py-8" style="color: var(--text-gray);">
                                Sanani tanlab, bronlarni ko'rish uchun "Bronlarni yuklash" tugmasini bosing
                            </div>
                        </div>

                        <!-- Action buttons -->
                        <div class="flex gap-3 mt-6">
                            <button id="load-bookings-btn" class="flex-1 py-3 rounded-xl font-medium" style="background: var(--accent-gray); color: var(--text-dark);">
                                Bronlarni yuklash
                            </button>
                            <button id="close-admin-btn" class="flex-1 py-3 rounded-xl font-medium border-2" style="background: white; color: var(--text-dark); border-color: var(--accent-gray);">
                                Yopish
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>
